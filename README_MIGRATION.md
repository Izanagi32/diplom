# –ú—ñ–≥—Ä–∞—Ü—ñ—è –∑ Turso –Ω–∞ Supabase - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó

## ‚úÖ –©–æ –≤–∂–µ –∑—Ä–æ–±–ª–µ–Ω–æ:

1. **–û–Ω–æ–≤–ª–µ–Ω–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ**: –ó–∞–º—ñ–Ω–µ–Ω–æ `@libsql/client` –Ω–∞ `@supabase/supabase-js`
2. **–û–Ω–æ–≤–ª–µ–Ω–æ API —Ñ—É–Ω–∫—Ü—ñ—é**: –§–∞–π–ª `netlify/functions/api-requests.js` —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—î –∑ Supabase
3. **–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ**: –í–∏–∫–æ–Ω–∞–Ω–æ `npm install`

## üîß –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏:

### 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—é –≤ Supabase

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –≤–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É Supabase: https://supabase.com/dashboard/project/lzhbhcmygndxufiowywn
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **SQL Editor**
3. –í–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π SQL –∫–æ–¥:

```sql
-- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ requests
CREATE TABLE requests (
  id BIGSERIAL PRIMARY KEY,
  pickup_location TEXT NOT NULL,
  delivery_location TEXT NOT NULL,
  length REAL NOT NULL,
  width REAL NOT NULL,
  height REAL NOT NULL,
  weight REAL NOT NULL,
  quantity INTEGER NOT NULL,
  cargo_type TEXT NOT NULL,
  adr BOOLEAN DEFAULT FALSE,
  adr_class TEXT,
  comment TEXT,
  pickup_date TEXT NOT NULL,
  contact_name TEXT NOT NULL,
  phone TEXT NOT NULL,
  email TEXT NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—É –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è
CREATE INDEX idx_requests_created_at ON requests(created_at DESC);

-- –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è Row Level Security
ALTER TABLE requests ENABLE ROW LEVEL SECURITY;

-- –ü–æ–ª—ñ—Ç–∏–∫–∞ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è (–¥–æ–∑–≤–æ–ª–∏—Ç–∏ –≤—Å—ñ–º)
CREATE POLICY "Allow read access for all users" ON requests
  FOR SELECT USING (true);

-- –ü–æ–ª—ñ—Ç–∏–∫–∞ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ (–¥–æ–∑–≤–æ–ª–∏—Ç–∏ –≤—Å—ñ–º)
CREATE POLICY "Allow insert access for all users" ON requests
  FOR INSERT WITH CHECK (true);
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –≤ Netlify

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –≤–∞—à–æ–≥–æ —Å–∞–π—Ç—É –≤ Netlify Dashboard
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **Site settings** ‚Üí **Environment variables**
3. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–º—ñ–Ω–Ω—ñ:

```
SUPABASE_URL=https://lzhbhcmygndxufiowywn.supabase.co
SUPABASE_ANON_KEY=–≤–∞—à_anon_key_–∑_supabase
```

### 3. –û—Ç—Ä–∏–º–∞—Ç–∏ SUPABASE_ANON_KEY

1. –í Supabase Dashboard –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Settings** ‚Üí **API**
2. –°–∫–æ–ø—ñ—é–π—Ç–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –ø–æ–ª—è **anon public**
3. –í—Å—Ç–∞–≤—Ç–µ –π–æ–≥–æ —è–∫ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è `SUPABASE_ANON_KEY` –≤ Netlify

### 4. –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç–∞—Ä—ñ –∑–º—ñ–Ω–Ω—ñ Turso (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

–ú–æ–∂–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –∑ Netlify:
- `TURSO_DATABASE_URL`
- `TURSO_AUTH_TOKEN`

### 5. –î–µ–ø–ª–æ–π —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

1. –ó—Ä–æ–±—ñ—Ç—å commit —Ç–∞ push –∑–º—ñ–Ω –¥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
2. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –¥–µ–ø–ª–æ—é –≤ Netlify
3. –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ:
   - –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É –Ω–∞ –≥–æ–ª–æ–≤–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –∑'—è–≤–∏–ª–∞—Å—è –∑–∞—è–≤–∫–∞ –≤ Supabase Dashboard ‚Üí **Table Editor** ‚Üí **requests**
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞—è–≤–æ–∫

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ñ–æ—Ä–º–∏:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≥–æ–ª–æ–≤–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É —Å–∞–π—Ç—É
2. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É "–û—Ç—Ä–∏–º–∞—Ç–∏ —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫"
3. –í—ñ–¥–ø—Ä–∞–≤—Ç–µ —Ñ–æ—Ä–º—É
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ Supabase Dashboard, —á–∏ –∑'—è–≤–∏–≤—Å—è –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—ñ:
1. –£–≤—ñ–π–¥—ñ—Ç—å –≤ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –∑–∞—è–≤–∫–∏
3. –°–ø—Ä–æ–±—É–π—Ç–µ —Ñ—ñ–ª—å—Ç—Ä–∏ —Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è

## üö® –ú–æ–∂–ª–∏–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —Ä—ñ—à–µ–Ω–Ω—è

### –ü–æ–º–∏–ª–∫–∞ "Invalid API key"
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å `SUPABASE_ANON_KEY`
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –≤ Netlify

### –ü–æ–º–∏–ª–∫–∞ "relation does not exist"
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ç–∞–±–ª–∏—Ü—è `requests` —Å—Ç–≤–æ—Ä–µ–Ω–∞ –≤ Supabase
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å SQL –∑–∞–ø–∏—Ç—É

### –ü–æ–º–∏–ª–∫–∞ "Row Level Security"
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –ø–æ–ª—ñ—Ç–∏–∫–∏ RLS —Å—Ç–≤–æ—Ä–µ–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –ø–æ–ª—ñ—Ç–∏–∫–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å —á–∏—Ç–∞–Ω–Ω—è —Ç–∞ –≤—Å—Ç–∞–≤–∫—É

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ñ

–¢–∞–±–ª–∏—Ü—è `requests` –º—ñ—Å—Ç–∏—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—ñ –ø–æ–ª—è:

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å |
|------|-----|------|
| id | BIGSERIAL | –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä |
| pickup_location | TEXT | –ú—ñ—Å—Ü–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è |
| delivery_location | TEXT | –ú—ñ—Å—Ü–µ –¥–æ—Å—Ç–∞–≤–∫–∏ |
| length | REAL | –î–æ–≤–∂–∏–Ω–∞ –≤–∞–Ω—Ç–∞–∂—É |
| width | REAL | –®–∏—Ä–∏–Ω–∞ –≤–∞–Ω—Ç–∞–∂—É |
| height | REAL | –í–∏—Å–æ—Ç–∞ –≤–∞–Ω—Ç–∞–∂—É |
| weight | REAL | –í–∞–≥–∞ –≤–∞–Ω—Ç–∞–∂—É |
| quantity | INTEGER | –ö—ñ–ª—å–∫—ñ—Å—Ç—å |
| cargo_type | TEXT | –¢–∏–ø –≤–∞–Ω—Ç–∞–∂—É |
| adr | BOOLEAN | –ß–∏ —î ADR –≤–∞–Ω—Ç–∞–∂ |
| adr_class | TEXT | –ö–ª–∞—Å ADR |
| comment | TEXT | –ö–æ–º–µ–Ω—Ç–∞—Ä |
| pickup_date | TEXT | –î–∞—Ç–∞ –ø–æ–¥–∞—á—ñ |
| contact_name | TEXT | –Ü–º'—è –∫–æ–Ω—Ç–∞–∫—Ç—É |
| phone | TEXT | –¢–µ–ª–µ—Ñ–æ–Ω |
| email | TEXT | Email |
| created_at | TIMESTAMP | –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è |

## üéØ –ü–µ—Ä–µ–≤–∞–≥–∏ Supabase

- **–†–µ–∞–ª—å–Ω–∏–π —á–∞—Å**: –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø—ñ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∑–º—ñ–Ω–∏ –≤ —Ç–∞–±–ª–∏—Ü—ñ
- **–ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è**: –í–±—É–¥–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- **API**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π REST API
- **Dashboard**: –ó—Ä—É—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–∞–Ω–∏–º–∏
- **–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –ø–ª–∞–Ω**: –î–æ 500MB –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ 